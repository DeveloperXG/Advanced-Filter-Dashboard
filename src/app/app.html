<app-header/>

<main>

  <div class="dashboard-wrapper">
    <!-- STATS SECTION -->
    <ul id="statistics">
      @for (stat of statistics; track stat.id) {
        <app-stats [stat]="stat" />
      }
    </ul>

    <!-- FILTER SECTION -->
    <div class="filters-container">
      <app-filter 
        [results]="filteredProjectCount"
        (optionSelected)="onCategoryChange($event)"
        (searchChanged)="onSearchChange($event)"
        (dateRangeChanged)="onDateRangeChange($event)" />
    </div>
  </div>

  <!-- PROJECTS LIST -->
  <div class="projects-container">
    @if (filteredProjects.length > 0) {
      <ol id="projects">
        @for (project of filteredProjects; track project.id) {
          <app-project [project]="project" />
        }
      </ol>
    } @else {
      <div class="no-results">
        <svg width="120" height="120" viewBox="0 0 24 24" fill="none" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="11" cy="11" r="8" />
          <line x1="21" y1="21" x2="16.65" y2="16.65" />
          <line x1="8" y1="9" x2="14" y2="9" />
          <line x1="8" y1="13" x2="12" y2="13" />
        </svg>
        <h3>No results found</h3>
        <p>Try adjusting your filters to see more results.</p>
      </div>
    }
  </div>
</main>
